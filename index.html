<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.45.1/dist/umd/supabase.min.js"></script>
  <meta charset="UTF-8" />
  <title>NFL Survivor League</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="assets/styles.css">
</head>
<body>
  <header>
  <h1><span>NFL</span> Survivor League</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="submit.html">Submit Pick</a>
    <a href="standings.html">My Standings</a>
    <a href="league.html">League Standings</a>
    <a href="highscore.html">High Score Leaderboard</a>
    <a href="schedule.html">Schedule</a>
    <a href="writeups.html">Weekly Recap</a>
    <a href="admin.html" class="nav-admin-link">Admin</a>
  </nav>
</header>


  <main>
    <section id="auth-section">
  <h2>League Login</h2>

  <div id="auth-logged-out">
    <p>Log in or create an account to manage your entries and submit weekly picks.</p>
    <form id="login-form">
      <label for="login-email">Email</label>
      <input type="email" id="login-email" required />

      <label for="login-password">Password</label>
      <input type="password" id="login-password" required />
<button
  type="button"
  id="forgot-password-btn"
  class="link-button"
  style="margin-top:0.25rem; font-size:0.85rem;"
>
  Forgot your password?
</button>

      <button type="submit">Log In</button>
    </form>

    <p style="margin-top:0.5rem; font-size:0.85rem;">
      No account yet?
      <button type="button" id="signup-button">Sign up</button>
    </p>

    <div id="auth-message" class="message"></div>
  </div>

  <div id="auth-logged-in" style="display:none;">
    <p>Welcome, <span id="user-email"></span>!</p>
    <button type="button" id="logout-button">Log Out</button>
  </div>
</section>
<section id="entries-section" style="display:none;">
  <h2>My Entries</h2>
  <p>You can create up to three entries (buy-ins) for this season.</p>

  <!-- Display name settings -->
  <div id="display-name-settings" style="margin-bottom:1rem;">
    <label for="display-name-input" style="display:block; margin-bottom:0.25rem;">
      Display name for standings
    </label>
    <input
      type="text"
      id="display-name-input"
      placeholder="e.g. Alex W, Team Wynn, etc."
      style="max-width:260px;"
    />
    <button type="button" id="save-display-name-btn" style="margin-left:0.5rem;">
      Save
    </button>
    <p style="font-size:0.8rem; margin-top:0.25rem; color:#94a3b8;">
      This name will appear on league standings instead of your email.
    </p>
  </div>

  <div id="entries-message" class="message"></div>

  <button id="add-entry-btn">Add Entry</button>

  <ul id="entries-list" style="margin-top:1rem; list-style:none; padding-left:0;"></ul>
</section>


    <section>
      <h2>How It Works</h2>
      <p>Buy-in: $50. Each week you pick one NFL team to win. You can't reuse teams. Lose a week, you're out. Last player standing wins the pot.</p>
    </section>
    <section>
      <h2>Key Rules</h2>
      <ul>
        <li>One pick per week.</li>
        <li>You may not pick the same team more than once all season.</li>
        <li>Picks must be submitted before the first game of the week (or custom deadline).</li>
        <li>If your team loses or ties, you are eliminated.</li>
      </ul>
    </section>
  </main>

  <footer>
    <p>&copy; <span id="year"></span> NFL Survivor League</p>
    <script>
      document.getElementById('year').textContent = new Date().getFullYear();
    </script>
  </footer>
<script src="assets/supabase-client.js"></script>
<script src="assets/auth.js"></script>
<script src="assets/entries.js"></script>
</body>
</html>
